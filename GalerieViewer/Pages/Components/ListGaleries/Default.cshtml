@model Viewmodels.ListGaleriesViewModel

<h4>Galleries</h4>

<div class="accordion" id="accordionMenu">
    @if (Model.ListeGaleries.Count() == 0)
    {
        <div>You have no galleries to show</div>
    }
    else
    {
        @foreach (var item in Model.ListeGaleries)
        {
            <div class="card">
                <div class="card-header py-1 px-2">
                    <h2 class="mb-0 ">
                        <button class="btn btn-link btn-block text-left p-1" type="button" data-toggle="collapse" data-target="#selectGallery_@(item.Id)" aria-expanded="false">
                            <div class="d-flex align-items-center justify-content-between bg-light px-0 py-0">
                                <div>@item.Name</div>
                                <div class="badge badge-pill badge-info">@item.nbImageItems</div>
                            </div>
                        </button>
                    </h2>
                </div>
                <div id="selectGallery_@(item.Id)" class="@((Model.Show==@item.Id)?"show":"collapse")" aria-labelledby="headingOne" data-parent="#accordionMenu">
                    <div class="card-body detail-galerie p-2">
                        <div class="px-0 py-1">@item.Description</div>
                        <div class="px-0 py-0">Created: @item.DateCreation.ToString("MM/dd/yyyy") at @item.DateCreation.ToString("hh:mm tt") </div>
                        <div class="px-0 py-0">Last Update: @item.DateUpdate.ToString("MM/dd/yyyy") at @item.DateUpdate.ToString("hh:mm tt")</div>
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="px-0 py-1"><a asp-page="Index" asp-route-id="@item.Id" asp-route-show="@item.Id">View Gallery</a></div>
                            <div>
                                <form method="post">
                                    <input type="submit" value="Delete" class="btn btn-sm rounded-pill btn-danger" asp-page-handler="DeleteGallery" asp-route-IdGallery="@item.Id" onclick="return confirm('Are you sure you want to delete this gallery ?')">
                                    <input type="submit" value="Edit" class="btn btn-sm rounded-pill btn-info" asp-page-handler="EditGallery" asp-route-IdGallery="@item.Id">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    }
</div>


